# Singleton パターン

## 概要

- クラスが 1 つのインスタンスのみを持つことを保証し、このインスタンスへアクセスするためのグローバルな方法を提供するパターンである
- カプセス化を利用したパターンのことであり、自分自身のインスタンスを内部に保持して、他のクラスからは static メソッドとして渡るようにしている
  ⚠️ アンチパターンと呼ばれることが多いのであんまり使わない方がいいかもしれない

## 使い所

プログラム内のクラスで、全てのクライアントが使用できるインスタンスを必ず 1 つだけに制限したい場合

- ロギング
- キャッシュ管理
- コンフィグ
- データベース接続ドライバ

## メリット

- クラスが 1 つのインスタンスしか持たないことを保証できる
- インスタンスが 1 つなので、メモリ効率がいい
- 最初にインスタンス化された以降は、使い回しなので、生成コストがかからない

## デメリット

- 依存関係が非常にわかりにくくなる
- Singleton が状態を保つ場合、密結合になる
- 単体テストの実行が難しい
- マルチスレッドで競合する可能性があるたね、難しい
